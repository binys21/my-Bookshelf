<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bookshelf.bookshelf.mapper.BookMapper">
    <resultMap id="bookResultMap" type="bookshelf.bookshelf.dto.BookDto">
        <result property="publishedDate" column="published_date" jdbcType="VARCHAR" />
        <result property="createdDt" column="created_at" jdbcType="VARCHAR" />
    </resultMap>

    <select id="selectBookList" resultMap="bookResultMap">
        select book_id, title, author, publisher,
               date_format(published_date, '%Y-%m-%d') as published_date,
               date_format(created_at, '%Y-%m-%d') as created_at
        from Books
        order by book_id desc
    </select>
</mapper>
